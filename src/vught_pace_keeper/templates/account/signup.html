{% extends "base.html" %}
{% load i18n %}

{% block title %}Sign Up - Vught Pace Keeper{% endblock %}

{% block content %}
<div class="max-w-md mx-auto py-12">
    <div class="text-center mb-8">
        <h1 class="text-2xl font-bold mb-2">Create Your Account</h1>
        <p class="text-gray-500">Start tracking your marathon training today</p>
    </div>

    <!-- Strava Signup -->
    <a href="{% url 'strava_login' %}" class="btn btn-strava w-full justify-center mb-6">
        <svg width="20" height="20" viewBox="0 0 24 24" fill="white" aria-hidden="true">
            <path d="M15.387 17.944l-2.089-4.116h-3.065L15.387 24l5.15-10.172h-3.066m-7.008-5.599l2.836 5.598h4.172L10.463 0l-7 13.828h4.169"/>
        </svg>
        Sign up with Strava
    </a>

    <div class="relative my-6">
        <div class="absolute inset-0 flex items-center">
            <div class="w-full border-t border-gray-200"></div>
        </div>
        <div class="relative flex justify-center text-sm">
            <span class="px-4 bg-white text-gray-500">or sign up with email</span>
        </div>
    </div>

    <!-- Email Signup Form -->
    <div class="card">
        <form method="post" action="{% url 'account_signup' %}">
            {% csrf_token %}

            <div class="form-group">
                <label for="id_email" class="form-label">Email</label>
                <input type="email" name="email" id="id_email"
                       value="{{ form.email.value|default:'' }}"
                       class="form-input {% if form.email.errors %}border-red-500{% endif %}"
                       placeholder="you@example.com" required autofocus>
                {% if form.email.errors %}
                <p class="text-red-600 text-sm mt-1">{{ form.email.errors.0 }}</p>
                {% endif %}
            </div>

            <div class="form-group">
                <label for="id_password1" class="form-label">Password</label>
                <input type="password" name="password1" id="id_password1"
                       class="form-input {% if form.password1.errors %}border-red-500{% endif %}"
                       placeholder="Choose a strong password" required>
                {% if form.password1.errors %}
                <p class="text-red-600 text-sm mt-1">{{ form.password1.errors.0 }}</p>
                {% endif %}
            </div>

            <div class="form-group">
                <label for="id_password2" class="form-label">Confirm Password</label>
                <input type="password" name="password2" id="id_password2"
                       class="form-input {% if form.password2.errors %}border-red-500{% endif %}"
                       placeholder="Confirm your password" required>
                {% if form.password2.errors %}
                <p class="text-red-600 text-sm mt-1">{{ form.password2.errors.0 }}</p>
                {% endif %}
            </div>

            {% if form.non_field_errors %}
            <div class="mb-4 p-3 bg-red-50 border border-red-200 rounded text-red-700 text-sm">
                {% for error in form.non_field_errors %}
                    <p>{{ error }}</p>
                {% endfor %}
            </div>
            {% endif %}

            <button type="submit" class="btn btn-secondary w-full justify-center">
                Create Account
            </button>
        </form>
    </div>

    <p class="text-center text-sm text-gray-500 mt-6">
        Already have an account?
        <a href="{% url 'account_login' %}" class="text-strava hover:text-strava-dark font-medium">Sign in</a>
    </p>
</div>
{% endblock %}
